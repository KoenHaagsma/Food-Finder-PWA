let _scannerRunning=!1;const detect={start:function(e,n){let t;if(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia)throw new Error("Not supported");Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector(e)},decoder:{readers:["code_128_reader","ean_reader"]}},(function(o){o?console.error(o):(Quagga.start(),_scannerRunning=!0,_scannerRunning&&(document.querySelector(".loading-container").style.display="none"),Quagga.onDetected((o=>{t=o.codeResult.code,n(t),detect.stop(`${e}`)})))}))},stop:function(e){Quagga.stop();const n=document.querySelector(`${e} > video`),t=document.querySelector(`${e} > canvas`);n&&n.remove(),t&&t.remove(),_scannerRunning=!1}};export{detect};
